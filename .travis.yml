os:
- windows

language: go

go:
    - 1.11

install:
#- body='{"request": {"branch":"wip"}}'
#- curl -s -X POST \
#   -H "Content-Type: application/json" \
#   -H "Accept: application/json" \
#   -H "Travis-API-Version: 3" \
#   -H "Authorization: token ${TRAVIS_API_TOKEN}" \
#   -d "$body" \
#   https://api.travis-ci.com/repo/kilip%2Fmonorepo/requests

script:
- go version
- go get -d github.com/libgit2/git2go
- cd $GOPATH/src/github.com/libgit2/git2go
- git checkout next
- git submodule update --init
- make install
- go get github.com/splitsh/lite
- go build -o splitsh-lite github.com/splitsh/lite
- splitsh-lite --version